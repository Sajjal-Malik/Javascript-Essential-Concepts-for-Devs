<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Promise in ES6+</title>
</head>
<body>
    
    <script>
        // =========== Promise in JS Basics ============ 
        // function promiseFunction(complete) {
        //     let pro = new Promise(function(resolve, reject) {
        //         if(complete) {  
        //             resolve("I am happy!");
        //         }
        //         else {
        //             reject("I failed");
        //         }
        //     });
        // }

        // let onFullfillment = (success_result) => {
        //     console.log(success_result);
        // };

        // let onRejection = (error) => {
        //     console.log(error);
        // };

        // promiseFunction(false).then(onFullfillment);
        // promiseFunction(false).catch(onRejection);

        // console.log(promiseFunction(True));


        // =========== Promise.all() in JS ============
        let p1 = new Promise(function(resolve, reject){
            setTimeout(() => {
                console.log("The first promise has resolved");
                resolve(5);
            }, 1*1000);
        });

        let p2 = new Promise(function(resolve, reject){
            setTimeout(() => {
                console.log("The second promise has resolved");
                resolve(10);
            }, 3*1000);
        });

        let p3 = new Promise(function(resolve, reject){
            setTimeout(() => {
                console.log("The third promise has resolved");
                resolve(30);
            }, 5*1000);
        });

        Promise.all([p1, p2, p3])
        .then((success_result) => {
            console.log(`Result after success: ${success_result}`);
        })
        .catch((error) =>{
            console.log(`Error: ${error}`)
        });

    </script>

</body>
</html>